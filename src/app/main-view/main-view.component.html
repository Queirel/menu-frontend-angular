<div class="container my-5">
  <div class="container border border-primary text-center rounded">
    <h4>Presupuesto Disponible:</h4>
    <h1 class="text-warning">{{ totalDisponible }}</h1>
    <div class="d-flex justify-content-center w-100">
      <div class="w-50">
        <p>INGRESOS</p>
        <p class="text-success">{{ totalIngresos }}</p>
      </div>
      <div class="w-50">
        <p>EGRESOS</p>
        <p class="text-danger">
          {{ totalEgresos }} @if (porcentajeEgresos.valueOf()) {<span
            class="badge bg-success"
            >{{ porcentajeEgresos | number : "1.2-2" }} %</span
          >}
        </p>
      </div>
    </div>
  </div>

  <div class="d-flex justify-content-center w-100 mt-4">
    <select
      [(ngModel)]="resultSelect"
      class="mx-2 bg-success rounded"
      name="dinero"
      id="dinero"
    >
      <option value="ingresos" name="value">+</option>
      <option value="egresos">-</option>
    </select>
    <input
      class="mx-2"
      [(ngModel)]="descriptionInput"
      placeholder="description"
      type="text"
    />
    <input
      class="mx-2"
      [(ngModel)]="priceInput"
      placeholder="price"
      type="number"
    />
    <div class="col-auto">
        <button (click)="agregar()" type="submit" class="btn btn-success">
          <i class="bi bi-check-circle"></i> <!-- Bootstrap Icon -->
        </button>
      </div>
    <!-- <button class="btn btn-success mx-2" (click)="agregar()">Ok</button> -->
  </div>

  <div class="row mt-4">
    <div class="col-md-6">
      <h3 class="text-center text-primary">INGRESOS</h3>
      <ul class="list-group mt-3">
        @for (item of itemsIngreso; track $index) {
        <li
          class="list-group-item d-flex justify-content-between align-items-center"
        >
          <span class="flex-grow-1">{{ item.description }}</span>
          <span class="text-success mx-3">{{ item.price }}</span>

          <button (click)="eliminarIngreso(item)" class="btn btn-sm btn-danger" >
            <i class="bi bi-x-circle"></i>
          </button>
        </li>
        }
      </ul>
    </div>
      <div class="col-md-6">
        <h3 class="text-center text-danger">EGRESOS</h3>
        <ul class="list-group">
          @for (item of itemsEgreso; track $index) {
          <li
            class="list-group-item d-flex justify-content-between align-items-center"
          >
          <span class="flex-grow-1">{{ item.description }}</span>
          <span class="text-success mx-3 text-danger">{{ item.price }}</span>
            <span class="badge bg-success"
              >{{
                (item.price * 100) / totalDisponible | number : "1.2-2"
              }}
              %</span
            >

            <button class="btn btn-sm btn-danger" (click)="eliminarEgreso(item)">
                <i class="bi bi-x-circle"></i>
              </button>
          </li>
          }
        </ul>
      </div>
    
  </div>
</div>
